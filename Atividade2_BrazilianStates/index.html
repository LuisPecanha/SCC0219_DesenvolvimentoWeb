<html>
    <header>Brazilian States </header>
    <body>
    <script>
        function loadDoc() 
        {
            var userInput = document.getElementById("myList").value;
            var aux = "SELECT ?name WHERE {?city <http://dbpedia.org/ontology/isPartOf> <http://dbpedia.org/resource/" + userInput + ">; rdfs:label ?name. FILTER(lang(?name) = 'pt') }"
            let xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() 
            {
                if (this.readyState == 4 && this.status == 200) 
                {
                    document.getElementById("demo").innerHTML = this.responseText;
                }
            };
            //let query = "SELECT ?name WHERE {?city <http://dbpedia.org/ontology/isPartOf> <http://dbpedia.org/resource/Minas_Gerais>; rdfs:label ?name. FILTER(lang(?name) = 'pt') } LIMIT 1000"
            let query = aux;
            query = "https://dbpedia.org/sparql/?query=" + query;
            xhttp.open("GET", encodeURI(query), true);
            xhttp.send();
        }

    </script>


    <form>
        <fieldset>
            <legend>Select the state of Brazil whose cities you want to know.</legend>
            <p>
            <select id="myList" onchange="loadDoc();">
                <option>Acre</option>
                <option>Alagoas</option>
                <option>Amapá</option>
                <option>Amazonas</option>
                <option>Bahia</option>
                <option>Ceará</option>
                <option value="Federal_District_(Brazil)">Distrito Federal</option>
                <option value="Espírito_Santo">Espírito Santo</option>
                <option>Goiás</option>
                <option>Maranhão</option>
                <option value="Mato_Grosso">Mato Grosso</option>
                <option value="Mato_Grosso_do_Sul">Mato Grosso do Sul</option>
                <option value="Minas_Gerais">Minas Gerais</option>
                <option>Pará</option>
                <option>Paraíba</option>
                <option>Paraná</option>
                <option>Pernambuco</option>
                <option>Piauí</option>
                <option value="Rio_de_Janeiro">Rio de Janeiro</option>
                <option value="Rio_Grande_do_Norte">Rio Grande do Norte</option>
                <option value="Rio_Grande_do_Sul">Rio Grande do Sul</option>
                <option>Rondônia</option>
                <option>Roraima</option>
                <option value="Santa_Catarina">Santa Catarina</option>
                <option value="São_Paulo">São Paulo</option>
                <option>Sergipe</option>
                <option>Tocantins</option>
                </select>
            </p>
        </fieldset>
    </form>

    <!--<button type="button" onclick="loadDoc();">See cities</button> -->

    <div id="demo">

    </div>
</body>
